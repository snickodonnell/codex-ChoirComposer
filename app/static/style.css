:root { font-family: Inter, system-ui, Arial, sans-serif; }
body { margin: 0; background: #f4f6fb; color: #111827; }
.container { max-width: 1000px; margin: 0 auto; padding: 1.5rem; }
.card { background: white; border-radius: 12px; padding: 1rem; margin-bottom: 1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
.workflow-ribbon { display: flex; justify-content: space-between; gap: .8rem; align-items: center; background: #dbeafe; color: #1e3a8a; border: 1px solid #93c5fd; border-radius: 10px; padding: .65rem .8rem; margin-bottom: 1rem; font-size: .9rem; }

button:disabled { background: #94a3b8; cursor: not-allowed; opacity: .85; }
button:disabled:hover { background: #94a3b8; }

.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
label { display: block; margin-bottom: .5rem; font-size: .9rem; }
input, select, textarea, button { margin-top: .2rem; padding: .5rem; border-radius: 8px; border: 1px solid #cfd4dc; }
textarea { width: 100%; min-height: 90px; }
button { background: #1d4ed8; color: white; border: none; cursor: pointer; margin-right: .5rem; }
button:hover { background: #1e40af; }
.section-row { border: 1px dashed #d1d5db; border-radius: 10px; padding: .75rem; margin-bottom: .75rem; }
.section-row-controls { display: flex; gap: .4rem; justify-content: flex-end; margin-bottom: .4rem; }
.section-row-controls button { background: #475569; padding: .3rem .55rem; margin-right: 0; }
.section-row-controls button:hover { background: #334155; }
.section-row-controls .toggle-section-mode { margin-left: auto; background: #1d4ed8; }
.section-row-controls .toggle-section-mode:hover { background: #1e40af; }
.section-row[data-mode="saved"] .section-text,
.section-row[data-mode="saved"] .section-label { background: #f8fafc; }
.arrangement-controls { display: flex; gap: .5rem; align-items: end; margin: .75rem 0; }
.arrangement-controls label { flex: 1; margin-bottom: 0; }
.arrangement-controls button { margin-right: 0; }
.arrangement-list { display: grid; gap: .5rem; }
.arrangement-item { border: 1px solid #d1d5db; border-radius: 8px; padding: .45rem .6rem; display: flex; justify-content: space-between; align-items: center; background: #f8fafc; gap: .75rem; }
.arrangement-item-main { display: flex; flex-direction: column; gap: .35rem; }
.arrangement-item-main label { margin-bottom: 0; font-size: .8rem; color: #334155; }
.arrangement-item-main input { max-width: 120px; }
.arrangement-item-controls { display: flex; gap: .35rem; }
.arrangement-item-controls button { background: #475569; margin-right: 0; padding: .3rem .55rem; }
.arrangement-item-controls button:hover { background: #334155; }
.arrangement-item-meta { font-size: .9rem; color: #0f172a; }
.actions { display: flex; gap: .5rem; margin: .75rem 0; }
.actions input { flex: 1; }
pre { background: #0b1220; color: #e5e7eb; padding: .6rem; border-radius: 8px; overflow: auto; }
.staff-wrap { margin: .7rem 0; border: 1px solid #e5e7eb; padding: .5rem; border-radius: 8px; }

.chord-line { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 13px; margin: .4rem 0 .7rem; color: #334155; }

.form-errors { display: none; margin-top: .6rem; padding: .5rem .6rem; border: 1px solid #fca5a5; background: #fef2f2; color: #991b1b; border-radius: 8px; font-size: .9rem; }

.field-error { border-color: #dc2626 !important; box-shadow: 0 0 0 2px rgba(220, 38, 38, .15); }

.preview-panel { border: 1px solid #dbe3ef; border-radius: 10px; padding: .6rem; margin-top: .75rem; background: #f8fbff; }
.preview-panel h3 { margin: 0; font-size: 1rem; }
.preview-panel-header { display: flex; justify-content: space-between; align-items: center; gap: .5rem; flex-wrap: wrap; }
.preview-panel-header .actions { margin: 0; align-items: center; }
.preview-panel-header label { margin: 0; font-size: .85rem; display: flex; align-items: center; gap: .45rem; }
.preview-panel-header input[type="range"] { margin-top: 0; }
.preview-status { font-size: .85rem; color: #334155; margin: .5rem 0; }
.preview-svg-wrap { display: grid; gap: .75rem; }
.preview-svg-page { background: white; border: 1px solid #d1d5db; border-radius: 8px; padding: .35rem; overflow: auto; }
.preview-svg-page svg { width: 100%; height: auto; display: block; transform-origin: top left; }
